<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>С Новым Годом!</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: #000;
            color: white;
            font-family: 'Arial', sans-serif;
            overflow: hidden;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
        }
        
        /* Звездное небо */
        #sky {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        
        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
        }
        
        /* Контейнер для поздравления */
        .greeting-container {
            text-align: center;
            z-index: 10;
            margin-top: 20px;
        }
        
        .greeting-word {
            display: inline-block;
            font-size: 3.5rem;
            font-weight: bold;
            margin: 0 15px;
            opacity: 0;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.7);
        }
        
        /* Цвета для слов */
        .word-1 { color: #ff3366; } /* С */
        .word-2 { color: #33ff99; } /* новым */
        .word-3 { color: #187ff5; } /* годом */
        .word-4 { color: #f00; } /* ! */
        
        /* Салют */
        .firework {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            box-shadow: 0 0 10px 2px;
            z-index: 1;
        }
        
        .explosion {
            position: absolute;
            border-radius: 50%;
            opacity: 0;
            z-index: 2;
        }
        
        /* Новогодние украшения */
        .decoration {
            position: absolute;
            font-size: 2rem;
            opacity: 0.7;
            z-index: 0;
        }
        
        /* Инструкция */
        .instruction {
            position: absolute;
            bottom: 30px;
            text-align: center;
            color: #aaa;
            font-size: 1rem;
            z-index: 20;
        }
        
        /* Адаптивность */
        @media (max-width: 768px) {
            .greeting-word {
                font-size: 2.5rem;
                margin: 0 8px;
            }
        }
    </style>
</head>
<body>
    <div id="sky"></div>
    
    <div class="greeting-container">
        <span class="greeting-word word-1">С</span>
        <span class="greeting-word word-2">НОВЫМ</span>
        <span class="greeting-word word-3">ГОДОМ</span>
        <span class="greeting-word word-4">СЕМЬЯ!</span>
    </div>
    
    <div class="instruction">
        Кликните или коснитесь экрана, чтобы запустить салют с поздравлением!<br>
        Можно запускать несколько раз.
    </div>
    
    <script>
        // Создаем звездное небо
        function createStars() {
            const sky = document.getElementById('sky');
            const starCount = 200;
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                
                // Случайные размеры и позиции
                const size = Math.random() * 3 + 1;
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                const opacity = Math.random() * 0.7 + 0.3;
                
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.left = `${x}%`;
                star.style.top = `${y}%`;
                star.style.opacity = opacity;
                
                // Мерцание звезд
                if (Math.random() > 0.7) {
                    star.style.animation = `twinkle ${Math.random() * 3 + 2}s infinite alternate`;
                }
                
                sky.appendChild(star);
            }
        }
        
        // Анимация мерцания звезд
        const style = document.createElement('style');
        style.textContent = `
            @keyframes twinkle {
                0% { opacity: 0.3; }
                100% { opacity: 1; }
            }
        `;
        document.head.appendChild(style);
        
        // Создаем салют
        function createFirework(x, y) {
            const colors = ['#ff3366', '#33ff99', '#3399ff', '#ffcc00', '#cc66ff', '#ff9933'];
            const color = colors[Math.floor(Math.random() * colors.length)];
            
            // Частица салюта, которая взлетает
            const firework = document.createElement('div');
            firework.classList.add('firework');
            firework.style.backgroundColor = color;
            firework.style.left = `${x}px`;
            firework.style.top = `${window.innerHeight}px`;
            firework.style.boxShadow = `0 0 10px 2px ${color}`;
            document.body.appendChild(firework);
            
            // Анимация взлета
            const riseHeight = y - 100 + Math.random() * 200 - 100;
            const riseDuration = 600 + Math.random() * 400;
            
            firework.animate([
                { transform: `translateY(0)`, opacity: 1 },
                { transform: `translateY(-${riseHeight}px)`, opacity: 1 }
            ], {
                duration: riseDuration,
                easing: 'cubic-bezier(0.1, 0.8, 0.2, 1)'
            });
            
            // Взрыв салюта
            setTimeout(() => {
                // Удаляем частицу взлета
                firework.remove();
                
                // Создаем взрыв
                const explosion = document.createElement('div');
                explosion.classList.add('explosion');
                explosion.style.left = `${x}px`;
                explosion.style.top = `${riseHeight}px`;
                explosion.style.backgroundColor = color;
                explosion.style.boxShadow = `0 0 20px 5px ${color}`;
                document.body.appendChild(explosion);
                
                // Анимация взрыва
                const explosionSize = 100 + Math.random() * 150;
                explosion.animate([
                    { width: '0px', height: '0px', opacity: 1 },
                    { width: `${explosionSize}px`, height: `${explosionSize}px`, opacity: 0 }
                ], {
                    duration: 800,
                    easing: 'ease-out'
                });
                
                // Создаем частицы взрыва
                createExplosionParticles(x, riseHeight, color);
                
                // Удаляем взрыв после анимации
                setTimeout(() => {
                    explosion.remove();
                }, 800);
                
            }, riseDuration);
        }
        
        // Создаем частицы взрыва
        function createExplosionParticles(x, y, color) {
            const particleCount = 40;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('firework');
                particle.style.backgroundColor = color;
                particle.style.left = `${x}px`;
                particle.style.top = `${y}px`;
                particle.style.boxShadow = `0 0 8px 1px ${color}`;
                document.body.appendChild(particle);
                
                // Случайное направление и расстояние
                const angle = Math.random() * Math.PI * 2;
                const distance = 50 + Math.random() * 150;
                const targetX = Math.cos(angle) * distance;
                const targetY = Math.sin(angle) * distance;
                
                // Анимация частицы
                particle.animate([
                    { transform: 'translate(0, 0)', opacity: 1 },
                    { transform: `translate(${targetX}px, ${targetY}px)`, opacity: 0 }
                ], {
                    duration: 1000 + Math.random() * 500,
                    easing: 'cubic-bezier(0.1, 0.8, 0.2, 1)'
                });
                
                // Удаляем частицу после анимации
                setTimeout(() => {
                    particle.remove();
                }, 1500);
            }
        }
        
        // Показываем слова поздравления
        function showGreeting(x, y) {
            const words = document.querySelectorAll('.greeting-word');
            const wordTexts = ['С', 'новым', 'годом', '!'];
            
            // Сбрасываем позиции и прозрачность
            words.forEach((word, index) => {
                word.style.transform = `translate(${x - word.getBoundingClientRect().left}px, ${y - word.getBoundingClientRect().top}px) scale(0.1)`;
                word.style.opacity = '0';
            });
            
            // Анимируем каждое слово с задержкой
            words.forEach((word, index) => {
                setTimeout(() => {
                    // Случайное небольшое смещение для естественности
                    const randomX = (Math.random() * 100 - 50);
                    const randomY = (Math.random() * 100 - 50);
                    
                    word.animate([
                        { 
                            transform: `translate(${x - word.getBoundingClientRect().left + randomX}px, ${y - word.getBoundingClientRect().top + randomY}px) scale(0.1)`, 
                            opacity: 0 
                        },
                        { 
                            transform: `translate(0, 0) scale(1)`, 
                            opacity: 1 
                        }
                    ], {
                        duration: 1200,
                        easing: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)'
                    });
                    
                    // Устанавливаем финальные стили
                    setTimeout(() => {
                        word.style.transform = 'translate(0, 0) scale(1)';
                        word.style.opacity = '1';
                    }, 1200);
                    
                }, index * 300 + 500); // Задержка между словами
            });
        }
        
        // Запускаем салют с поздравлением
        function launchFireworksWithGreeting(x, y) {
            // Запускаем несколько салютов
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const offsetX = (Math.random() * 400 - 200);
                    const offsetY = (Math.random() * 200 - 100);
                    createFirework(x + offsetX, y + offsetY);
                }, i * 200);
            }
            
            // Показываем поздравление
            setTimeout(() => {
                showGreeting(x, y);
            }, 1500);
        }
        
        // Обработчик кликов
        document.addEventListener('click', function(e) {
            launchFireworksWithGreeting(e.clientX, e.clientY);
        });
        
        // Обработчик касаний для мобильных устройств
        document.addEventListener('touchstart', function(e) {
            e.preventDefault();
            const touch = e.touches[0];
            launchFireworksWithGreeting(touch.clientX, touch.clientY);
        });
        
        // Инициализация при загрузке
        window.addEventListener('load', function() {
            createStars();
            
            // Автоматический запуск салюта при загрузке
            setTimeout(() => {
                launchFireworksWithGreeting(window.innerWidth / 2, window.innerHeight / 3);
            }, 1000);
        });
    </script>
</body>
</html>
